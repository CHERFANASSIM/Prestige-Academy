<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:b="http://bootsfaces.net/ui" 
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/default.xhtml">

	<ui:define name="content">
	<h:form>
	<br />
		<h1 id="titrePage">Liste Entreprises</h1> <p:commandButton id="retour" value="Retour" onclick="window.history.back();"/>
		<hr class="style-six"></hr>
		<div id="table-wrapper">
			
				<p:dataTable var="ligneEntreprise" 
					value="#{entreprisesController.listeEntreprises}" 
					data-href="http://tutorialsplane.com" border="2"
					class="table" selectionMode="single"
					rowKey="#{ligneEntreprise.entrepriseID}"
					selection="#{entreprisesController.entrepriseModifie}"
					scrollable="true" action="ficheStag">>
					
					<p:column>
						<f:facet name="header">Nom de l'entreprise</f:facet>
                        #{ligneEntreprise.nomEntreprise}
                       
					</p:column>

					<p:column>
						<f:facet name="header">Adresse</f:facet>
                        #{ligneEntreprise.adresse}
                    </p:column>

					<p:column>
						<f:facet name="header">Ville</f:facet>
                        #{ligneEntreprise.ville}
                    </p:column>

					<p:column>
						<f:facet name="header">Email</f:facet>
                        #{ligneEntreprise.mailEntreprise}
                    </p:column>

					<p:column>
						<f:facet name="header">Téléphone</f:facet>
                        #{ligneEntreprise.telephoneEntreprise}
                    </p:column>

					<p:column>
						<f:facet name="header">Taux de satisfaction</f:facet>
                        #{ligneEntreprise.tauxSatisfaction}
                    </p:column>

					<p:column>
						<f:facet name="header">Taux de participation des événements</f:facet>
                        #{ligneEntreprise.tauxParticipationEvenements}
                    </p:column>

					<p:column>
					<f:facet name="header">Actions</f:facet>
						<p:commandButton icon="fas fa-search"
							actionListener="#{entreprisesController.chargerEntreprise(ligneEntreprise)}"
							action="AffichageEntreprise" />
						<p:commandButton icon="fas fa-edit"
							actionListener="#{entreprisesController.chargerEntreprise(ligneEntreprise)}"
							action="modificationEntreprise" />
					</p:column>
				</p:dataTable>
			
		</div>
		</h:form>
	</ui:define>
</ui:composition>

